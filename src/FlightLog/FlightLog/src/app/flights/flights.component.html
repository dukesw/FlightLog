<form class="flight-form" [formGroup]="flightFilterForm" #formDirective="ngForm" (ngSubmit)="onSubmit(formDirective)">
    <mat-form-field>
        <mat-label>Date From</mat-label>
        <input matInput [matDatepicker]="fromPicker" formControlName="dateFrom" [disabled]="true">
        <mat-datepicker-toggle matSuffix [for]="fromPicker" [disabled]="true"></mat-datepicker-toggle>
        <mat-datepicker #fromPicker [disabled]="true"></mat-datepicker>
    </mat-form-field>
    <br/>
    <mat-form-field>
        <mat-label>Date To</mat-label>
        <input matInput [matDatepicker]="picker" formControlName="dateTo" [disabled]="true">
        <mat-datepicker-toggle matSuffix [for]="picker" [disabled]="true"></mat-datepicker-toggle>
        <mat-datepicker #picker [disabled]="true"></mat-datepicker>
    </mat-form-field>
    <br/>
    <mat-form-field>
        <mat-label *ngIf="isLoadingModels">
            <div class="select-placeholder-container">
                    <span>Loading...</span>
                <mat-spinner class="spinner" diameter="18"></mat-spinner>
            </div>
        </mat-label>
        <mat-label *ngIf="!isLoadingModels">Model</mat-label>
        <mat-select [(ngModel)]="selectedModel" formControlName="modelId">
            <mat-option *ngFor="let model of models" [value]="model.Id">{{model.Name}}</mat-option>
        </mat-select> 
        <mat-error *ngIf="modelLoadingError">Error loading models</mat-error>
    </mat-form-field>
    <br/>
    <button mat-stroked-button type="submit" [disabled]="!flightFilterForm.valid">Filter</button>
    <button mat-stroked-button type="reset" (click)="resetForm()">Reset</button>
</form>
<div *ngIf="flightSummary != null">
<p>Total Flights: {{flightSummary.TotalNumberOfFlights}}</p>
<p>Total Minutes: {{flightSummary.TotalFlightTimeMinutes}}</p>
<p>Average Flight: {{flightSummary.AverageFlightTimeMinutes}}</p>
<p>First Flight: {{flightSummary.FirstFlight | date }}</p>
<p>Last Flight: {{flightSummary.LastFlight | date }}</p>
</div>
<p>{{message}}</p>